<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
	<link rel="stylesheet" href="main.css">
</head>

<body>
	<div class="container">
		<div class="title">
			Ch√∫c m·ª´ng 20 th√°ng 10
		</div>

		<button class="bg">
			<img src="./assets/bg.png" />
		</button>

		<button class="y">
			<img src="./assets/y.webp" />
		</button>


		<button class="p">
			<img src="./assets/p.webp" />
		</button>


		<button class="s">
			<img src="./assets/s.webp" />
		</button>
	</div>


	<div id="dialog">
		<div id="dialog-container">

		</div>

		<div class="envelope-container">
			<div class="envelope">
				<div class="letter">
					<p class="letter-title"><b>Hello World!</b></p>
					<div class="letter-content">
						<p>
							V·ªõi t∆∞ c√°ch l√† nh·ªØng anh ch√†ng ƒë√°ng y√™u c·ªßa CS7, ch√∫ng t√¥i h√¢n h·∫°nh ƒë∆∞·ª£c chu·∫©n b·ªã cho c√°c
							b·∫°n n·ªØ m·ªôt bu·ªïi l·ªÖ 20/10 v·ªõi
							t·∫•t c·∫£ s·ª± ch√¢n th√†nh. D·∫´u r·∫±ng v√¨ ho√†n c·∫£nh kh√¥ng cho ph√©p ƒë·ªÉ ch√∫ng t√¥i c√≥ th·ªÉ chu·∫©n b·ªã
							nhi·ªÅu h∆°n nh∆∞ng hi v·ªçng r·∫±ng v·ªõi
							t·∫•t c·∫£ c·ªë g·∫Øng, ch√∫ng t√¥i c√≥ th·ªÉ ƒëem l·∫°i cho c√°c b·∫°n ni·ªÅm vui v√† nhi·ªÅu h∆°n n·ªØa l√† s·ª± h·∫°nh
							ph√∫c. Website n√†y b·∫°n dev c·ªßa
							ch√∫ng ta ch·ªâ c√≥ th·ªÉ l√†m r·∫•t nhanh trong 2 ng√†y n√™n s·∫Ω c√≥ nhi·ªÅu thi·∫øu s√≥t, ch√∫ng t√¥i s·∫Ω c·ªë
							g·∫Øng ph√°t tri·ªÉn nhi·ªÅu th√™m
							trong th·ªùi gian t·ªõi. C·∫£m ∆°n c√°c b·∫°n n·ªØ ƒë√£ ƒë√≥n nh·∫≠n m√≥n qu√† n√†y, v√† t·∫≠p th·ªÉ anh em K70I-CS7
							c≈©ng s·∫µn s√†ng nh·∫≠n feedback
							v·ªÅ m√≥n qu√†. Xin ch√∫c c√°c b·∫°n n·ªØ c·ªßa CS7 s·∫Ω c√≥ m·ªôt ng√†y 20/10 th·∫≠t vui v√† m·ªôt t∆∞∆°ng lai tr√†n
							ng·∫≠p ƒëi·ªÉm cao c√πng nh·ªØng
							ng√†y th√°ng tuy·ªát v·ªùi ·ªü Hola. Hi v·ªçng t·∫•t c·∫£ m·ªçi ng∆∞·ªùi, c·∫£ nh·ªØng b·∫°n nam v√† b·∫°n n·ªØ trong l·ªõp
							s·∫Ω h√≤a ƒë·ªìng, y√™u th∆∞∆°ng nhau
							h∆°n qua t·ª´ng ng√†y.
						</p>
					</div>
				</div>
			</div>
		</div>
	</div>

	<script>
		const buttons = document.getElementsByTagName("button");
		const dialogContainer = document.getElementById("dialog-container");
		const dialog = document.getElementById("dialog");
		const letter = document.querySelector(".letter");
		const envelopeContainer = document.querySelector(".envelope-container");

		let isOpen = false;

		for (const btn of buttons) {
			btn.addEventListener("click", () => {
				if (!isOpen) {
					openEnvelope();
				} else {
					closeEnvelope();
				}
			})
		}

		dialogContainer.addEventListener("click", (e) => {
			if (isOpen) {
				closeEnvelope();
			}
		})

		function openEnvelope() {
			dialog.style.display = "block";
			dialogContainer.style.display = "block";
			isOpen = true;

			// Reset animations and styles
			letter.classList.remove("closing");
			envelopeContainer.classList.remove("closing");
			letter.style.animation = "";
			letter.style.transform = "";

			// Add opening animation with slight delay
			setTimeout(() => {
				letter.style.animation = "letterUp 0.8s ease-out forwards";
			}, 100);
		}

		function closeEnvelope() {
			isOpen = false;

			// Add closing animations
			letter.classList.add("closing");
			envelopeContainer.classList.add("closing");

			// Hide dialog after all animations complete
			setTimeout(() => {
				dialog.style.display = "none";
				dialogContainer.style.display = "none";

				// Reset classes and styles for next opening
				letter.classList.remove("closing");
				envelopeContainer.classList.remove("closing");
				letter.style.animation = "";
				letter.style.transform = "";
				letter.style.height = "";
				letter.style.width = "";
				letter.style.left = "";
				letter.style.top = "";
				letter.style.opacity = "";
			}); // Total time: letter animation (1200ms) + envelope delay (1200ms) + envelope animation (800ms)
		}

		function createHeart() {
			const heart = document.createElement("img");
			heart.src = "https://pngimg.com/uploads/heart/heart_PNG51335.png";
			heart.classList.add("heart");
			heart.style.left = Math.random() * 100 + "vw";
			heart.style.animationDuration = Math.random() * 5 + 3 + "s ";
			// heart.innerText = "ü¶Ñ";
			document.body.appendChild(heart);
			setTimeout(() => {
				heart.remove();
			}, 7000);
		}

		setInterval(createHeart, 500);
	</script>
</body>

</html>